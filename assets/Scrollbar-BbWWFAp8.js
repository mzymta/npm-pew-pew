import{V as at,W as st,d as we,h as b,F as ct,r as u,c as f,e as ut,q as ft,f as dt,a as ve,z as ht}from"./vue.esm-bundler-D4RNtN6S.js";import{f as vt}from"./fade-in.cssr-DJOFltAV.js";import{n as _,f as x,o as P,r as U,l as bt,k as Re}from"./light-DsB5ODev.js";import{V as be}from"./VResizeObserver-DllAtjZA.js";import{u as mt}from"./use-rtl-DB_faxJd.js";import{g as I,d as me}from"./index-Xn0jilRV.js";import{o as X,a as k}from"./delegate-AmuGJuoF.js";import{u as gt}from"./use-css-vars-class-BoK1eXI1.js";import{s as pt}from"./light-RknvjviJ.js";import{g as wt}from"./get-precise-event-target-DhO46Lpt.js";const Rt=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function St(){return Rt}function zt(n){const s={isDeactivated:!1};let a=!1;return at(()=>{if(s.isDeactivated=!1,!a){a=!0;return}n()}),st(()=>{s.isDeactivated=!0,a||(a=!0)}),s}function ge(n){const{left:s,right:a,top:H,bottom:r}=I(n);return`${H} ${s} ${r} ${a}`}const pe=we({render(){var n,s;return(s=(n=this.$slots).default)===null||s===void 0?void 0:s.call(n)}}),Bt=_("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[x(">",[_("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 min-height: inherit;
 max-height: inherit;
 scrollbar-width: none;
 `,[x("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),x(">",[_("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),x(">, +",[_("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 background: var(--n-scrollbar-rail-color);
 -webkit-user-select: none;
 `,[P("horizontal",`
 height: var(--n-scrollbar-height);
 `,[x(">",[U("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),P("horizontal--top",`
 top: var(--n-scrollbar-rail-top-horizontal-top); 
 right: var(--n-scrollbar-rail-right-horizontal-top); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-top); 
 left: var(--n-scrollbar-rail-left-horizontal-top); 
 `),P("horizontal--bottom",`
 top: var(--n-scrollbar-rail-top-horizontal-bottom); 
 right: var(--n-scrollbar-rail-right-horizontal-bottom); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-bottom); 
 left: var(--n-scrollbar-rail-left-horizontal-bottom); 
 `),P("vertical",`
 width: var(--n-scrollbar-width);
 `,[x(">",[U("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),P("vertical--left",`
 top: var(--n-scrollbar-rail-top-vertical-left); 
 right: var(--n-scrollbar-rail-right-vertical-left); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-left); 
 left: var(--n-scrollbar-rail-left-vertical-left); 
 `),P("vertical--right",`
 top: var(--n-scrollbar-rail-top-vertical-right); 
 right: var(--n-scrollbar-rail-right-vertical-right); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-right); 
 left: var(--n-scrollbar-rail-left-vertical-right); 
 `),P("disabled",[x(">",[U("scrollbar","pointer-events: none;")])]),x(">",[U("scrollbar",`
 z-index: 1;
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[vt(),x("&:hover","background-color: var(--n-scrollbar-color-hover);")])])])])]),xt=Object.assign(Object.assign({},Re.props),{duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),yt=we({name:"Scrollbar",props:xt,inheritAttrs:!1,setup(n){const{mergedClsPrefixRef:s,inlineThemeDisabled:a,mergedRtlRef:H}=bt(n),r=mt("Scrollbar",H,s),Y=u(null),V=u(null),E=u(null),L=u(null),R=u(null),S=u(null),z=u(null),B=u(null),h=u(null),w=u(null),O=u(null),$=u(0),D=u(0),j=u(!1),F=u(!1);let A=!1,N=!1,m,g,te=0,le=0,q=0,ne=0;const Se=St(),G=Re("Scrollbar","-scrollbar",Bt,pt,n,s),J=f(()=>{const{value:e}=B,{value:t}=S,{value:l}=w;return e===null||t===null||l===null?0:Math.min(e,l*e/t+me(G.value.self.width)*1.5)}),ze=f(()=>`${J.value}px`),K=f(()=>{const{value:e}=h,{value:t}=z,{value:l}=O;return e===null||t===null||l===null?0:l*e/t+me(G.value.self.height)*1.5}),Be=f(()=>`${K.value}px`),xe=f(()=>{const{value:e}=B,{value:t}=$,{value:l}=S,{value:o}=w;if(e===null||l===null||o===null)return 0;{const c=l-e;return c?t/c*(o-J.value):0}}),ye=f(()=>`${xe.value}px`),Te=f(()=>{const{value:e}=h,{value:t}=D,{value:l}=z,{value:o}=O;if(e===null||l===null||o===null)return 0;{const c=l-e;return c?t/c*(o-K.value):0}}),Me=f(()=>`${Te.value}px`),re=f(()=>{const{value:e}=B,{value:t}=S;return e!==null&&t!==null&&t>e}),oe=f(()=>{const{value:e}=h,{value:t}=z;return e!==null&&t!==null&&t>e}),Pe=f(()=>{const{trigger:e}=n;return e==="none"||j.value}),He=f(()=>{const{trigger:e}=n;return e==="none"||F.value}),T=f(()=>{const{container:e}=n;return e?e():V.value}),Le=f(()=>{const{content:e}=n;return e?e():E.value}),ie=(e,t)=>{if(!n.scrollable)return;if(typeof e=="number"){W(e,t??0,0,!1,"auto");return}const{left:l,top:o,index:c,elSize:d,position:p,behavior:i,el:v,debounce:y=!0}=e;(l!==void 0||o!==void 0)&&W(l??0,o??0,0,!1,i),v!==void 0?W(0,v.offsetTop,v.offsetHeight,y,i):c!==void 0&&d!==void 0?W(0,c*d,d,y,i):p==="bottom"?W(0,Number.MAX_SAFE_INTEGER,0,!1,i):p==="top"&&W(0,0,0,!1,i)},ae=zt(()=>{n.container||ie({top:$.value,left:D.value})}),$e=()=>{ae.isDeactivated||M()},We=e=>{if(ae.isDeactivated)return;const{onResize:t}=n;t&&t(e),M()},Ce=(e,t)=>{if(!n.scrollable)return;const{value:l}=T;l&&(typeof e=="object"?l.scrollBy(e):l.scrollBy(e,t||0))};function W(e,t,l,o,c){const{value:d}=T;if(d){if(o){const{scrollTop:p,offsetHeight:i}=d;if(t>p){t+l<=p+i||d.scrollTo({left:e,top:t+l-i,behavior:c});return}}d.scrollTo({left:e,top:t,behavior:c})}}function Xe(){Ve(),Ee(),M()}function Ye(){Q()}function Q(){De(),Ie()}function De(){g!==void 0&&window.clearTimeout(g),g=window.setTimeout(()=>{F.value=!1},n.duration)}function Ie(){m!==void 0&&window.clearTimeout(m),m=window.setTimeout(()=>{j.value=!1},n.duration)}function Ve(){m!==void 0&&window.clearTimeout(m),j.value=!0}function Ee(){g!==void 0&&window.clearTimeout(g),F.value=!0}function Oe(e){const{onScroll:t}=n;t&&t(e),se()}function se(){const{value:e}=T;e&&($.value=e.scrollTop,D.value=e.scrollLeft*(r!=null&&r.value?-1:1))}function _e(){const{value:e}=Le;e&&(S.value=e.offsetHeight,z.value=e.offsetWidth);const{value:t}=T;t&&(B.value=t.offsetHeight,h.value=t.offsetWidth);const{value:l}=R,{value:o}=L;l&&(O.value=l.offsetWidth),o&&(w.value=o.offsetHeight)}function ce(){const{value:e}=T;e&&($.value=e.scrollTop,D.value=e.scrollLeft*(r!=null&&r.value?-1:1),B.value=e.offsetHeight,h.value=e.offsetWidth,S.value=e.scrollHeight,z.value=e.scrollWidth);const{value:t}=R,{value:l}=L;t&&(O.value=t.offsetWidth),l&&(w.value=l.offsetHeight)}function M(){n.scrollable&&(n.useUnifiedContainer?ce():(_e(),se()))}function ue(e){var t;return!(!((t=Y.value)===null||t===void 0)&&t.contains(wt(e)))}function Ue(e){e.preventDefault(),e.stopPropagation(),N=!0,k("mousemove",window,fe,!0),k("mouseup",window,de,!0),le=D.value,q=r!=null&&r.value?window.innerWidth-e.clientX:e.clientX}function fe(e){if(!N)return;m!==void 0&&window.clearTimeout(m),g!==void 0&&window.clearTimeout(g);const{value:t}=h,{value:l}=z,{value:o}=K;if(t===null||l===null)return;const d=(r!=null&&r.value?window.innerWidth-e.clientX-q:e.clientX-q)*(l-t)/(t-o),p=l-t;let i=le+d;i=Math.min(p,i),i=Math.max(i,0);const{value:v}=T;if(v){v.scrollLeft=i*(r!=null&&r.value?-1:1);const{internalOnUpdateScrollLeft:y}=n;y&&y(i)}}function de(e){e.preventDefault(),e.stopPropagation(),X("mousemove",window,fe,!0),X("mouseup",window,de,!0),N=!1,M(),ue(e)&&Q()}function ke(e){e.preventDefault(),e.stopPropagation(),A=!0,k("mousemove",window,Z,!0),k("mouseup",window,ee,!0),te=$.value,ne=e.clientY}function Z(e){if(!A)return;m!==void 0&&window.clearTimeout(m),g!==void 0&&window.clearTimeout(g);const{value:t}=B,{value:l}=S,{value:o}=J;if(t===null||l===null)return;const d=(e.clientY-ne)*(l-t)/(t-o),p=l-t;let i=te+d;i=Math.min(p,i),i=Math.max(i,0);const{value:v}=T;v&&(v.scrollTop=i)}function ee(e){e.preventDefault(),e.stopPropagation(),X("mousemove",window,Z,!0),X("mouseup",window,ee,!0),A=!1,M(),ue(e)&&Q()}ut(()=>{const{value:e}=oe,{value:t}=re,{value:l}=s,{value:o}=R,{value:c}=L;o&&(e?o.classList.remove(`${l}-scrollbar-rail--disabled`):o.classList.add(`${l}-scrollbar-rail--disabled`)),c&&(t?c.classList.remove(`${l}-scrollbar-rail--disabled`):c.classList.add(`${l}-scrollbar-rail--disabled`))}),ft(()=>{n.container||M()}),dt(()=>{m!==void 0&&window.clearTimeout(m),g!==void 0&&window.clearTimeout(g),X("mousemove",window,Z,!0),X("mouseup",window,ee,!0)});const he=f(()=>{const{common:{cubicBezierEaseInOut:e},self:{color:t,colorHover:l,height:o,width:c,borderRadius:d,railInsetHorizontalTop:p,railInsetHorizontalBottom:i,railInsetVerticalRight:v,railInsetVerticalLeft:y,railColor:je}}=G.value,{top:Fe,right:Ae,bottom:Ne,left:qe}=I(p),{top:Ge,right:Je,bottom:Ke,left:Qe}=I(i),{top:Ze,right:et,bottom:tt,left:lt}=I(r!=null&&r.value?ge(v):v),{top:nt,right:rt,bottom:ot,left:it}=I(r!=null&&r.value?ge(y):y);return{"--n-scrollbar-bezier":e,"--n-scrollbar-color":t,"--n-scrollbar-color-hover":l,"--n-scrollbar-border-radius":d,"--n-scrollbar-width":c,"--n-scrollbar-height":o,"--n-scrollbar-rail-top-horizontal-top":Fe,"--n-scrollbar-rail-right-horizontal-top":Ae,"--n-scrollbar-rail-bottom-horizontal-top":Ne,"--n-scrollbar-rail-left-horizontal-top":qe,"--n-scrollbar-rail-top-horizontal-bottom":Ge,"--n-scrollbar-rail-right-horizontal-bottom":Je,"--n-scrollbar-rail-bottom-horizontal-bottom":Ke,"--n-scrollbar-rail-left-horizontal-bottom":Qe,"--n-scrollbar-rail-top-vertical-right":Ze,"--n-scrollbar-rail-right-vertical-right":et,"--n-scrollbar-rail-bottom-vertical-right":tt,"--n-scrollbar-rail-left-vertical-right":lt,"--n-scrollbar-rail-top-vertical-left":nt,"--n-scrollbar-rail-right-vertical-left":rt,"--n-scrollbar-rail-bottom-vertical-left":ot,"--n-scrollbar-rail-left-vertical-left":it,"--n-scrollbar-rail-color":je}}),C=a?gt("scrollbar",void 0,he,n):void 0;return Object.assign(Object.assign({},{scrollTo:ie,scrollBy:Ce,sync:M,syncUnifiedContainer:ce,handleMouseEnterWrapper:Xe,handleMouseLeaveWrapper:Ye}),{mergedClsPrefix:s,rtlEnabled:r,containerScrollTop:$,wrapperRef:Y,containerRef:V,contentRef:E,yRailRef:L,xRailRef:R,needYBar:re,needXBar:oe,yBarSizePx:ze,xBarSizePx:Be,yBarTopPx:ye,xBarLeftPx:Me,isShowXBar:Pe,isShowYBar:He,isIos:Se,handleScroll:Oe,handleContentResize:$e,handleContainerResize:We,handleYScrollMouseDown:ke,handleXScrollMouseDown:Ue,cssVars:a?void 0:he,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender})},render(){var n;const{$slots:s,mergedClsPrefix:a,triggerDisplayManually:H,rtlEnabled:r,internalHoistYRail:Y,yPlacement:V,xPlacement:E,xScrollable:L}=this;if(!this.scrollable)return(n=s.default)===null||n===void 0?void 0:n.call(s);const R=this.trigger==="none",S=(h,w)=>b("div",{ref:"yRailRef",class:[`${a}-scrollbar-rail`,`${a}-scrollbar-rail--vertical`,`${a}-scrollbar-rail--vertical--${V}`,h],"data-scrollbar-rail":!0,style:[w||"",this.verticalRailStyle],"aria-hidden":!0},b(R?pe:ve,R?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?b("div",{class:`${a}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),z=()=>{var h,w;return(h=this.onRender)===null||h===void 0||h.call(this),b("div",ht(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${a}-scrollbar`,this.themeClass,r&&`${a}-scrollbar--rtl`],style:this.cssVars,onMouseenter:H?void 0:this.handleMouseEnterWrapper,onMouseleave:H?void 0:this.handleMouseLeaveWrapper}),[this.container?(w=s.default)===null||w===void 0?void 0:w.call(s):b("div",{role:"none",ref:"containerRef",class:[`${a}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},b(be,{onResize:this.handleContentResize},{default:()=>b("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${a}-scrollbar-content`,this.contentClass]},s)})),Y?null:S(void 0,void 0),L&&b("div",{ref:"xRailRef",class:[`${a}-scrollbar-rail`,`${a}-scrollbar-rail--horizontal`,`${a}-scrollbar-rail--horizontal--${E}`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},b(R?pe:ve,R?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?b("div",{class:`${a}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:r?this.xBarLeftPx:void 0,left:r?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},B=this.container?z():b(be,{onResize:this.handleContainerResize},{default:z});return Y?b(ct,null,B,S(this.themeClass,this.cssVars)):B}}),It=yt;export{yt as S,pe as W,It as X};
