import{l as re,r as R,o as xe,f as le,q as mn,w as te,d as q,h as g,c as S,Z as gn,Y as vn,z as Qe,Q as ye,a as Ze,R as Ee,t as Q,b as Ce,L as we,n as Fe,p as ie,v as K,A as hn,y as j,x as D,B as pn,D as en,E as bn,m as L,M as yn,O as Cn,N as X,J as Ne,F as Me,g as ee,G as De}from"./vue.esm-bundler-D4RNtN6S.js";import{C as wn}from"./CTile-Cv4kNu6I.js";import{f as $,n as E,z as nn,A as kn,F as on,o as z,r as w,l as Pe,k as V,s as ae,j as Sn,w as xn}from"./light-DsB5ODev.js";import{u as tn}from"./use-rtl-DB_faxJd.js";import{r as N,e as I,a as Le}from"./resolve-slot-BBjw-So6.js";import{u as Be}from"./use-css-vars-class-BoK1eXI1.js";import{c as G}from"./call-f2ri57Kd.js";import{g as an}from"./index-Xn0jilRV.js";import{c as Pn,d as Bn,m as $n}from"./light-Du_kP9Wc.js";import{N as rn}from"./Close-MwAQiULY.js";import{k as $e}from"./keysOf-HiGXOwLp.js";import{N as zn}from"./Icon-CrmNSR1a.js";import{r as _}from"./render-CafAiG2R.js";import{B as je}from"./Button-CF0RFvFf.js";import{E as Rn,S as Tn,I as Ie}from"./Success-Dpq3D3vw.js";import{W as On}from"./Warning-Cd2ybYWr.js";import{c as En,b as sn,m as Fn,d as Nn,p as Mn,L as Dn,z as Ln,e as jn}from"./index-CIE75m1q.js";import{a as M,o as se}from"./delegate-AmuGJuoF.js";import{g as In}from"./get-first-slot-vnode-BHWfc99-.js";import{S as _n}from"./Scrollbar-BbWWFAp8.js";import{F as An}from"./index-Bg4fAuci.js";import{k as ke}from"./keep-B1eBS8j0.js";import{f as Vn}from"./fade-in-scale-up.cssr-DKJ6UU5J.js";import{f as qn}from"./fade-in.cssr-DJOFltAV.js";import{i as ln,h as dn}from"./utils-Dy8q55w_.js";import{a as Hn}from"./icon-switch.cssr-CS-aOSlJ.js";import{i as Wn}from"./is-browser-DqcmxZSF.js";import{g as Yn}from"./get-precise-event-target-DhO46Lpt.js";import{e as Xn}from"./index-DsSU6HIH.js";import{_ as cn}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as _e}from"./CButton-CYpEF-bO.js";import{C as Un}from"./CIcon-BdIW6TD_.js";const J=R(null);function Ae(e){if(e.clientX>0||e.clientY>0)J.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:n,top:o,width:i,height:d}=t.getBoundingClientRect();n>0||o>0?J.value={x:n+i/2,y:o+d/2}:J.value={x:0,y:0}}else J.value=null}}let ne=0,Ve=!0;function Kn(){if(!ln)return re(R(null));ne===0&&M("click",document,Ae,!0);const e=()=>{ne+=1};return Ve&&(Ve=dn())?(xe(e),le(()=>{ne-=1,ne===0&&se("click",document,Ae,!0)})):e(),re(J)}const Gn=R(void 0);let oe=0;function qe(){Gn.value=Date.now()}let He=!0;function Jn(e){if(!ln)return re(R(!1));const t=R(!1);let n=null;function o(){n!==null&&window.clearTimeout(n)}function i(){o(),t.value=!0,n=window.setTimeout(()=>{t.value=!1},e)}oe===0&&M("click",window,qe,!0);const d=()=>{oe+=1,M("click",window,i,!0)};return He&&(He=dn())?(xe(d),le(()=>{oe-=1,oe===0&&se("click",window,qe,!0),se("click",window,i,!0),o()})):d(),re(t)}const ze=R(!1);function We(){ze.value=!0}function Ye(){ze.value=!1}let U=0;function Qn(){return Wn&&(xe(()=>{U||(window.addEventListener("compositionstart",We),window.addEventListener("compositionend",Ye)),U++}),le(()=>{U<=1?(window.removeEventListener("compositionstart",We),window.removeEventListener("compositionend",Ye),U=0):U--})),ze}let A=0,Xe="",Ue="",Ke="",Ge="";const Je=R("0px");function Zn(e){if(typeof document>"u")return;const t=document.documentElement;let n,o=!1;const i=()=>{t.style.marginRight=Xe,t.style.overflow=Ue,t.style.overflowX=Ke,t.style.overflowY=Ge,Je.value="0px"};mn(()=>{n=te(e,d=>{if(d){if(!A){const u=window.innerWidth-t.offsetWidth;u>0&&(Xe=t.style.marginRight,t.style.marginRight=`${u}px`,Je.value=`${u}px`),Ue=t.style.overflow,Ke=t.style.overflowX,Ge=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}o=!0,A++}else A--,A||i(),o=!1},{immediate:!0})}),le(()=>{n==null||n(),o&&(A--,A||i(),o=!1)})}const eo=$([E("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[on({background:"var(--n-color-modal)"}),z("hoverable",[$("&:hover","box-shadow: var(--n-box-shadow);")]),z("content-segmented",[$(">",[w("content",{paddingTop:"var(--n-padding-bottom)"})])]),z("content-soft-segmented",[$(">",[w("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),z("footer-segmented",[$(">",[w("footer",{paddingTop:"var(--n-padding-bottom)"})])]),z("footer-soft-segmented",[$(">",[w("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),$(">",[E("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[w("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 min-width: 0;
 color: var(--n-title-text-color);
 `),w("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),w("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),w("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),w("content","flex: 1; min-width: 0;"),w("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[$("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),w("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),E("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[$("img",`
 display: block;
 width: 100%;
 `)]),z("bordered",`
 border: 1px solid var(--n-border-color);
 `,[$("&:target","border-color: var(--n-color-target);")]),z("action-segmented",[$(">",[w("action",[$("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),z("content-segmented, content-soft-segmented",[$(">",[w("content",{transition:"border-color 0.3s var(--n-bezier)"},[$("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),z("footer-segmented, footer-soft-segmented",[$(">",[w("footer",{transition:"border-color 0.3s var(--n-bezier)"},[$("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),z("embedded",`
 background-color: var(--n-color-embedded);
 `)]),nn(E("card",`
 background: var(--n-color-modal);
 `,[z("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),kn(E("card",`
 background: var(--n-color-popover);
 `,[z("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),Re={title:[String,Function],contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],headerExtraClass:String,headerExtraStyle:[Object,String],footerClass:String,footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:Boolean,hoverable:Boolean,role:String,onClose:[Function,Array],tag:{type:String,default:"div"},cover:Function,content:[String,Function],footer:Function,action:Function,headerExtra:Function},no=$e(Re),oo=Object.assign(Object.assign({},V.props),Re),to=q({name:"Card",props:oo,slots:Object,setup(e){const t=()=>{const{onClose:m}=e;m&&G(m)},{inlineThemeDisabled:n,mergedClsPrefixRef:o,mergedRtlRef:i}=Pe(e),d=V("Card","-card",eo,Pn,e,o),u=tn("Card",i,o),p=S(()=>{const{size:m}=e,{self:{color:f,colorModal:y,colorTarget:v,textColor:h,titleTextColor:b,titleFontWeight:x,borderColor:P,actionColor:T,borderRadius:C,lineHeight:O,closeIconColor:B,closeIconColorHover:l,closeIconColorPressed:r,closeColorHover:c,closeColorPressed:s,closeBorderRadius:k,closeIconSize:F,closeSize:H,boxShadow:W,colorPopover:Y,colorEmbedded:de,colorEmbeddedModal:ce,colorEmbeddedPopover:ue,[ae("padding",m)]:fe,[ae("fontSize",m)]:me,[ae("titleFontSize",m)]:ge},common:{cubicBezierEaseInOut:ve}}=d.value,{top:he,left:pe,bottom:be}=an(fe);return{"--n-bezier":ve,"--n-border-radius":C,"--n-color":f,"--n-color-modal":y,"--n-color-popover":Y,"--n-color-embedded":de,"--n-color-embedded-modal":ce,"--n-color-embedded-popover":ue,"--n-color-target":v,"--n-text-color":h,"--n-line-height":O,"--n-action-color":T,"--n-title-text-color":b,"--n-title-font-weight":x,"--n-close-icon-color":B,"--n-close-icon-color-hover":l,"--n-close-icon-color-pressed":r,"--n-close-color-hover":c,"--n-close-color-pressed":s,"--n-border-color":P,"--n-box-shadow":W,"--n-padding-top":he,"--n-padding-bottom":be,"--n-padding-left":pe,"--n-font-size":me,"--n-title-font-size":ge,"--n-close-size":H,"--n-close-icon-size":F,"--n-close-border-radius":k}}),a=n?Be("card",S(()=>e.size[0]),p,e):void 0;return{rtlEnabled:u,mergedClsPrefix:o,mergedTheme:d,handleCloseClick:t,cssVars:n?void 0:p,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){const{segmented:e,bordered:t,hoverable:n,mergedClsPrefix:o,rtlEnabled:i,onRender:d,embedded:u,tag:p,$slots:a}=this;return d==null||d(),g(p,{class:[`${o}-card`,this.themeClass,u&&`${o}-card--embedded`,{[`${o}-card--rtl`]:i,[`${o}-card--content${typeof e!="boolean"&&e.content==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.content,[`${o}-card--footer${typeof e!="boolean"&&e.footer==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.footer,[`${o}-card--action-segmented`]:e===!0||e!==!1&&e.action,[`${o}-card--bordered`]:t,[`${o}-card--hoverable`]:n}],style:this.cssVars,role:this.role},N(a.cover,m=>{const f=this.cover?I([this.cover()]):m;return f&&g("div",{class:`${o}-card-cover`,role:"none"},f)}),N(a.header,m=>{const{title:f}=this,y=f?I(typeof f=="function"?[f()]:[f]):m;return y||this.closable?g("div",{class:[`${o}-card-header`,this.headerClass],style:this.headerStyle,role:"heading"},g("div",{class:`${o}-card-header__main`,role:"heading"},y),N(a["header-extra"],v=>{const h=this.headerExtra?I([this.headerExtra()]):v;return h&&g("div",{class:[`${o}-card-header__extra`,this.headerExtraClass],style:this.headerExtraStyle},h)}),this.closable&&g(rn,{clsPrefix:o,class:`${o}-card-header__close`,onClick:this.handleCloseClick,absolute:!0})):null}),N(a.default,m=>{const{content:f}=this,y=f?I(typeof f=="function"?[f()]:[f]):m;return y&&g("div",{class:[`${o}-card__content`,this.contentClass],style:this.contentStyle,role:"none"},y)}),N(a.footer,m=>{const f=this.footer?I([this.footer()]):m;return f&&g("div",{class:[`${o}-card__footer`,this.footerClass],style:this.footerStyle,role:"none"},f)}),N(a.action,m=>{const f=this.action?I([this.action()]):m;return f&&g("div",{class:`${o}-card__action`,role:"none"},f)}))}}),io=Sn("n-dialog-provider"),Te={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,titleClass:[String,Array],titleStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],actionClass:[String,Array],actionStyle:[String,Object],onPositiveClick:Function,onNegativeClick:Function,onClose:Function},ao=$e(Te),ro=$([E("dialog",`
 --n-icon-margin: var(--n-icon-margin-top) var(--n-icon-margin-right) var(--n-icon-margin-bottom) var(--n-icon-margin-left);
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[w("icon",{color:"var(--n-icon-color)"}),z("bordered",{border:"var(--n-border)"}),z("icon-top",[w("close",{margin:"var(--n-close-margin)"}),w("icon",{margin:"var(--n-icon-margin)"}),w("content",{textAlign:"center"}),w("title",{justifyContent:"center"}),w("action",{justifyContent:"center"})]),z("icon-left",[w("icon",{margin:"var(--n-icon-margin)"}),z("closable",[w("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),w("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),w("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[z("last","margin-bottom: 0;")]),w("action",`
 display: flex;
 justify-content: flex-end;
 `,[$("> *:not(:last-child)",`
 margin-right: var(--n-action-space);
 `)]),w("icon",`
 font-size: var(--n-icon-size);
 transition: color .3s var(--n-bezier);
 `),w("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),E("dialog-icon-container",`
 display: flex;
 justify-content: center;
 `)]),nn(E("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),E("dialog",[on(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),so={default:()=>g(Ie,null),info:()=>g(Ie,null),success:()=>g(Tn,null),warning:()=>g(On,null),error:()=>g(Rn,null)},lo=q({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},V.props),Te),slots:Object,setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:n,inlineThemeDisabled:o,mergedRtlRef:i}=Pe(e),d=tn("Dialog",i,n),u=S(()=>{var h,b;const{iconPlacement:x}=e;return x||((b=(h=t==null?void 0:t.value)===null||h===void 0?void 0:h.Dialog)===null||b===void 0?void 0:b.iconPlacement)||"left"});function p(h){const{onPositiveClick:b}=e;b&&b(h)}function a(h){const{onNegativeClick:b}=e;b&&b(h)}function m(){const{onClose:h}=e;h&&h()}const f=V("Dialog","-dialog",ro,Bn,e,n),y=S(()=>{const{type:h}=e,b=u.value,{common:{cubicBezierEaseInOut:x},self:{fontSize:P,lineHeight:T,border:C,titleTextColor:O,textColor:B,color:l,closeBorderRadius:r,closeColorHover:c,closeColorPressed:s,closeIconColor:k,closeIconColorHover:F,closeIconColorPressed:H,closeIconSize:W,borderRadius:Y,titleFontWeight:de,titleFontSize:ce,padding:ue,iconSize:fe,actionSpace:me,contentMargin:ge,closeSize:ve,[b==="top"?"iconMarginIconTop":"iconMargin"]:he,[b==="top"?"closeMarginIconTop":"closeMargin"]:pe,[ae("iconColor",h)]:be}}=f.value,Z=an(he);return{"--n-font-size":P,"--n-icon-color":be,"--n-bezier":x,"--n-close-margin":pe,"--n-icon-margin-top":Z.top,"--n-icon-margin-right":Z.right,"--n-icon-margin-bottom":Z.bottom,"--n-icon-margin-left":Z.left,"--n-icon-size":fe,"--n-close-size":ve,"--n-close-icon-size":W,"--n-close-border-radius":r,"--n-close-color-hover":c,"--n-close-color-pressed":s,"--n-close-icon-color":k,"--n-close-icon-color-hover":F,"--n-close-icon-color-pressed":H,"--n-color":l,"--n-text-color":B,"--n-border-radius":Y,"--n-padding":ue,"--n-line-height":T,"--n-border":C,"--n-content-margin":ge,"--n-title-font-size":ce,"--n-title-font-weight":de,"--n-title-text-color":O,"--n-action-space":me}}),v=o?Be("dialog",S(()=>`${e.type[0]}${u.value[0]}`),y,e):void 0;return{mergedClsPrefix:n,rtlEnabled:d,mergedIconPlacement:u,mergedTheme:f,handlePositiveClick:p,handleNegativeClick:a,handleCloseClick:m,cssVars:o?void 0:y,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){var e;const{bordered:t,mergedIconPlacement:n,cssVars:o,closable:i,showIcon:d,title:u,content:p,action:a,negativeText:m,positiveText:f,positiveButtonProps:y,negativeButtonProps:v,handlePositiveClick:h,handleNegativeClick:b,mergedTheme:x,loading:P,type:T,mergedClsPrefix:C}=this;(e=this.onRender)===null||e===void 0||e.call(this);const O=d?g(zn,{clsPrefix:C,class:`${C}-dialog__icon`},{default:()=>N(this.$slots.icon,l=>l||(this.icon?_(this.icon):so[this.type]()))}):null,B=N(this.$slots.action,l=>l||f||m||a?g("div",{class:[`${C}-dialog__action`,this.actionClass],style:this.actionStyle},l||(a?[_(a)]:[this.negativeText&&g(je,Object.assign({theme:x.peers.Button,themeOverrides:x.peerOverrides.Button,ghost:!0,size:"small",onClick:b},v),{default:()=>_(this.negativeText)}),this.positiveText&&g(je,Object.assign({theme:x.peers.Button,themeOverrides:x.peerOverrides.Button,size:"small",type:T==="default"?"primary":T,disabled:P,loading:P,onClick:h},y),{default:()=>_(this.positiveText)})])):null);return g("div",{class:[`${C}-dialog`,this.themeClass,this.closable&&`${C}-dialog--closable`,`${C}-dialog--icon-${n}`,t&&`${C}-dialog--bordered`,this.rtlEnabled&&`${C}-dialog--rtl`],style:o,role:"dialog"},i?N(this.$slots.close,l=>{const r=[`${C}-dialog__close`,this.rtlEnabled&&`${C}-dialog--rtl`];return l?g("div",{class:r},l):g(rn,{clsPrefix:C,class:r,onClick:this.handleCloseClick})}):null,d&&n==="top"?g("div",{class:`${C}-dialog-icon-container`},O):null,g("div",{class:[`${C}-dialog__title`,this.titleClass],style:this.titleStyle},d&&n==="left"?O:null,Le(this.$slots.header,()=>[_(u)])),g("div",{class:[`${C}-dialog__content`,B?"":`${C}-dialog__content--last`,this.contentClass],style:this.contentStyle},Le(this.$slots.default,()=>[_(p)])),B)}}),Se="n-draggable";function co(e,t){let n;const o=S(()=>e.value!==!1),i=S(()=>o.value?Se:""),d=S(()=>{const a=e.value;return a===!0||a===!1?!0:a?a.bounds!=="none":!0});function u(a){const m=a.querySelector(`.${Se}`);if(!m||!i.value)return;let f=0,y=0,v=0,h=0,b=0,x=0,P;function T(B){B.preventDefault(),P=B;const{x:l,y:r,right:c,bottom:s}=a.getBoundingClientRect();y=l,h=r,f=window.innerWidth-c,v=window.innerHeight-s;const{left:k,top:F}=a.style;b=+F.slice(0,-2),x=+k.slice(0,-2)}function C(B){if(!P)return;const{clientX:l,clientY:r}=P;let c=B.clientX-l,s=B.clientY-r;d.value&&(c>f?c=f:-c>y&&(c=-y),s>v?s=v:-s>h&&(s=-h));const k=c+x,F=s+b;a.style.top=`${F}px`,a.style.left=`${k}px`}function O(){P=void 0,t.onEnd(a)}M("mousedown",m,T),M("mousemove",window,C),M("mouseup",window,O),n=()=>{se("mousedown",m,T),M("mousemove",window,C),M("mouseup",window,O)}}function p(){n&&(n(),n=void 0)}return gn(p),{stopDrag:p,startDrag:u,draggableRef:o,draggableClassRef:i}}const Oe=Object.assign(Object.assign({},Re),Te),uo=$e(Oe),fo=q({name:"ModalBody",inheritAttrs:!1,slots:Object,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean,draggable:{type:[Boolean,Object],default:!1}},Oe),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(e){const t=R(null),n=R(null),o=R(e.show),i=R(null),d=R(null),u=Ce(sn);let p=null;te(Q(e,"show"),s=>{s&&(p=u.getMousePosition())},{immediate:!0});const{stopDrag:a,startDrag:m,draggableRef:f,draggableClassRef:y}=co(Q(e,"draggable"),{onEnd:s=>{x(s)}}),v=S(()=>we([e.titleClass,y.value])),h=S(()=>we([e.headerClass,y.value]));te(Q(e,"show"),s=>{s&&(o.value=!0)}),Zn(S(()=>e.blockScroll&&o.value));function b(){if(u.transformOriginRef.value==="center")return"";const{value:s}=i,{value:k}=d;if(s===null||k===null)return"";if(n.value){const F=n.value.containerScrollTop;return`${s}px ${k+F}px`}return""}function x(s){if(u.transformOriginRef.value==="center"||!p||!n.value)return;const k=n.value.containerScrollTop,{offsetLeft:F,offsetTop:H}=s,W=p.y,Y=p.x;i.value=-(F-Y),d.value=-(H-W-k),s.style.transformOrigin=b()}function P(s){Fe(()=>{x(s)})}function T(s){s.style.transformOrigin=b(),e.onBeforeLeave()}function C(s){const k=s;f.value&&m(k),e.onAfterEnter&&e.onAfterEnter(k)}function O(){o.value=!1,i.value=null,d.value=null,a(),e.onAfterLeave()}function B(){const{onClose:s}=e;s&&s()}function l(){e.onNegativeClick()}function r(){e.onPositiveClick()}const c=R(null);return te(c,s=>{s&&Fe(()=>{const k=s.el;k&&t.value!==k&&(t.value=k)})}),ie(Fn,t),ie(Nn,null),ie(Mn,null),{mergedTheme:u.mergedThemeRef,appear:u.appearRef,isMounted:u.isMountedRef,mergedClsPrefix:u.mergedClsPrefixRef,bodyRef:t,scrollbarRef:n,draggableClass:y,displayed:o,childNodeRef:c,cardHeaderClass:h,dialogTitleClass:v,handlePositiveClick:r,handleNegativeClick:l,handleCloseClick:B,handleAfterEnter:C,handleAfterLeave:O,handleBeforeLeave:T,handleEnter:P}},render(){const{$slots:e,$attrs:t,handleEnter:n,handleAfterEnter:o,handleAfterLeave:i,handleBeforeLeave:d,preset:u,mergedClsPrefix:p}=this;let a=null;if(!u){if(a=In("default",e.default,{draggableClass:this.draggableClass}),!a){xn("modal","default slot is empty");return}a=vn(a),a.props=Qe({class:`${p}-modal`},t,a.props||{})}return this.displayDirective==="show"||this.displayed||this.show?ye(g("div",{role:"none",class:`${p}-modal-body-wrapper`},g(_n,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${p}-modal-scroll-content`},{default:()=>{var m;return[(m=this.renderMask)===null||m===void 0?void 0:m.call(this),g(An,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var f;return g(Ze,{name:"fade-in-scale-up-transition",appear:(f=this.appear)!==null&&f!==void 0?f:this.isMounted,onEnter:n,onAfterEnter:o,onAfterLeave:i,onBeforeLeave:d},{default:()=>{const y=[[Ee,this.show]],{onClickoutside:v}=this;return v&&y.push([En,this.onClickoutside,void 0,{capture:!0}]),ye(this.preset==="confirm"||this.preset==="dialog"?g(lo,Object.assign({},this.$attrs,{class:[`${p}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},ke(this.$props,ao),{titleClass:this.dialogTitleClass,"aria-modal":"true"}),e):this.preset==="card"?g(to,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${p}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},ke(this.$props,no),{headerClass:this.cardHeaderClass,"aria-modal":"true",role:"dialog"}),e):this.childNodeRef=a,y)}})}})]}})),[[Ee,this.displayDirective==="if"||this.displayed||this.show]]):null}}),mo=$([E("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),E("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[qn({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),E("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[E("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),E("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[Vn({duration:".25s",enterScale:".5"}),$(`.${Se}`,`
 cursor: move;
 user-select: none;
 `)])]),go=Object.assign(Object.assign(Object.assign(Object.assign({},V.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),Oe),{draggable:[Boolean,Object],onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalModal:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),vo=q({name:"Modal",inheritAttrs:!1,props:go,slots:Object,setup(e){const t=R(null),{mergedClsPrefixRef:n,namespaceRef:o,inlineThemeDisabled:i}=Pe(e),d=V("Modal","-modal",mo,$n,e,n),u=Jn(64),p=Kn(),a=Hn(),m=e.internalDialog?Ce(io,null):null,f=e.internalModal?Ce(jn,null):null,y=Qn();function v(r){const{onUpdateShow:c,"onUpdate:show":s,onHide:k}=e;c&&G(c,r),s&&G(s,r),k&&!r&&k(r)}function h(){const{onClose:r}=e;r?Promise.resolve(r()).then(c=>{c!==!1&&v(!1)}):v(!1)}function b(){const{onPositiveClick:r}=e;r?Promise.resolve(r()).then(c=>{c!==!1&&v(!1)}):v(!1)}function x(){const{onNegativeClick:r}=e;r?Promise.resolve(r()).then(c=>{c!==!1&&v(!1)}):v(!1)}function P(){const{onBeforeLeave:r,onBeforeHide:c}=e;r&&G(r),c&&c()}function T(){const{onAfterLeave:r,onAfterHide:c}=e;r&&G(r),c&&c()}function C(r){var c;const{onMaskClick:s}=e;s&&s(r),e.maskClosable&&!((c=t.value)===null||c===void 0)&&c.contains(Yn(r))&&v(!1)}function O(r){var c;(c=e.onEsc)===null||c===void 0||c.call(e),e.show&&e.closeOnEsc&&Xn(r)&&(y.value||v(!1))}ie(sn,{getMousePosition:()=>{const r=m||f;if(r){const{clickedRef:c,clickedPositionRef:s}=r;if(c.value&&s.value)return s.value}return u.value?p.value:null},mergedClsPrefixRef:n,mergedThemeRef:d,isMountedRef:a,appearRef:Q(e,"internalAppear"),transformOriginRef:Q(e,"transformOrigin")});const B=S(()=>{const{common:{cubicBezierEaseOut:r},self:{boxShadow:c,color:s,textColor:k}}=d.value;return{"--n-bezier-ease-out":r,"--n-box-shadow":c,"--n-color":s,"--n-text-color":k}}),l=i?Be("theme-class",void 0,B,e):void 0;return{mergedClsPrefix:n,namespace:o,isMounted:a,containerRef:t,presetProps:S(()=>ke(e,uo)),handleEsc:O,handleAfterLeave:T,handleClickoutside:C,handleBeforeLeave:P,doUpdateShow:v,handleNegativeClick:x,handlePositiveClick:b,handleCloseClick:h,cssVars:i?void 0:B,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){const{mergedClsPrefix:e}=this;return g(Dn,{to:this.to,show:this.show},{default:()=>{var t;(t=this.onRender)===null||t===void 0||t.call(this);const{unstableShowMask:n}=this;return ye(g("div",{role:"none",ref:"containerRef",class:[`${e}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},g(fo,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,draggable:this.draggable,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:n?void 0:this.handleClickoutside,renderMask:n?()=>{var o;return g(Ze,{name:"fade-in-transition",key:"mask",appear:(o=this.internalAppear)!==null&&o!==void 0?o:this.isMounted},{default:()=>this.show?g("div",{"aria-hidden":!0,ref:"containerRef",class:`${e}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[Ln,{zIndex:this.zIndex,enabled:this.show}]])}})}}),un=q({__name:"CModal",props:{isShown:{type:Boolean},autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},to:{default:"body"},isLoading:{type:Boolean,default:!1},hasCloseBtn:{type:Boolean,default:!0},size:{default:"medium"},width:{default:void 0},maskClosable:{type:Boolean,default:!0}},emits:["update:isShown","esc","maskClick","close","afterLeave"],setup(e,{emit:t}){const n=t;function o(i){n("update:isShown",i),i||n("close")}return(i,d)=>(D(),K(hn(vo),{show:i.isShown,"auto-focus":i.autoFocus,"close-on-esc":i.closeOnEsc,to:i.to,"mask-closable":i.maskClosable,"transform-origin":"center",class:"c-modal",onEsc:d[1]||(d[1]=u=>n("esc")),onMaskClick:d[2]||(d[2]=u=>n("maskClick")),"onUpdate:show":o,onAfterLeave:d[3]||(d[3]=u=>n("afterLeave"))},{default:j(()=>[pn(wn,{"is-loading":i.isLoading,"is-closable":i.hasCloseBtn,class:we(["c-modal__content",`c-modal__content--${i.size}`]),style:yn({maxWidth:`${i.width}px`}),role:"dialog","aria-modal":"true","aria-busy":i.isLoading,onClose:d[0]||(d[0]=u=>o(!1))},en({_:2},[bn(Object.keys(i.$slots),u=>({name:u,fn:j(()=>[L(i.$slots,u,{},void 0,!0)])}))]),1032,["is-loading","is-closable","class","style","aria-busy"])]),_:3},8,["show","auto-focus","close-on-esc","to","mask-closable"]))}}),ho=cn(un,[["__scopeId","data-v-af713239"]]);un.__docgenInfo={exportName:"default",displayName:"CModal",description:"",tags:{},props:[{name:"isShown",required:!0,type:{name:"boolean"}},{name:"autoFocus",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"closeOnEsc",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"to",required:!1,type:{name:"union",elements:[{name:"string"},{name:"HTMLElement"}]},defaultValue:{func:!1,value:"'body'"}},{name:"isLoading",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hasCloseBtn",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"small"'},{name:'"medium"'},{name:'"large"'}]},defaultValue:{func:!1,value:"'medium'"}},{name:"width",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"undefined"}},{name:"maskClosable",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:[{name:"update:isShown",type:{names:["boolean"]}},{name:"esc"},{name:"maskClick"},{name:"close"},{name:"afterLeave"}],slots:[{name:"slot",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/home/runner/work/npm-pew-pew/npm-pew-pew/src/components/CModal/CModal.vue"]};const fn=q({__name:"CDialog",props:{type:{default:"confirm"},isShown:{type:Boolean},hasNegative:{type:Boolean,default:!0},hasPositive:{type:Boolean,default:!0},isLoading:{type:Boolean,default:!1},isProcessing:{type:Boolean,default:!1},isPositiveProcessing:{type:Boolean,default:!1},isNegativeProcessing:{type:Boolean,default:!1},isPositiveDisabled:{type:Boolean,default:!1},isNegativeDisabled:{type:Boolean,default:!1},isNegativeDisabledWhenPositiveProcessing:{type:Boolean,default:!0},iconName:{default:""},positiveHandler:{type:Function,default:void 0},negativeHandler:{type:Function,default:void 0}},emits:["update:isShown","close","positiveClick","negativeClick","afterLeave"],setup(e,{emit:t}){const n=e,o=t,i=S(()=>n.type==="error"),d=S(()=>n.type==="success"),u=S(()=>n.type==="warning"),p=S(()=>n.type==="info"),a=S(()=>n.iconName?n.iconName:i.value?"close-circle":d.value?"checkmark-circle":u.value?"alert-circle":p.value?"information-circle":""),m=Cn(),f=S(()=>i.value?"error":d.value?"success":u.value?"warning":p.value?"info":"primary"),y=S(()=>i.value||u.value||p.value||m["positive-text"]?"Ok":d.value?"Continue":"Confirm"),v=S(()=>m["negative-text"]?"Ok":i.value||d.value||u.value||p.value?"":"Cancel");function h(){o("update:isShown",!1),o("close")}const b=R(!1),x=S(()=>n.isProcessing||n.isPositiveProcessing||b.value),P=R(!1),T=S(()=>!n.isProcessing&&(n.isNegativeProcessing||P.value)),C=S(()=>n.isNegativeDisabled||n.isNegativeDisabledWhenPositiveProcessing&&x.value);async function O(){var l;if(!(x.value||n.isPositiveDisabled||P.value)){o("positiveClick"),b.value=!0;try{await((l=n.positiveHandler)==null?void 0:l.call(n))}finally{b.value=!1,h()}}}async function B(){var l;if(!(b.value||P.value)){o("negativeClick"),P.value=!0;try{await((l=n.negativeHandler)==null?void 0:l.call(n))}finally{P.value=!1,h()}}}return(l,r)=>(D(),K(ho,Qe(l.$attrs,{"is-shown":l.isShown,"is-loading":l.isLoading,class:["c-dialog",`c-dialog--${l.type}`],"onUpdate:isShown":B,onAfterLeave:r[0]||(r[0]=c=>o("afterLeave"))}),en({actions:j(()=>[L(l.$slots,"actions",{},()=>[l.hasNegative&&v.value?(D(),K(_e,{key:0,secondary:"",loading:T.value,disabled:C.value,class:"c-dialog__negative-button",onClick:B},{default:j(()=>[L(l.$slots,"negative-text",{},()=>[ee(De(v.value),1)],!0)]),_:3},8,["loading","disabled"])):X("",!0),l.hasPositive&&y.value?(D(),K(_e,{key:1,type:f.value,loading:x.value,disabled:l.isPositiveDisabled,class:"c-dialog__confirm-button",onClick:O},{default:j(()=>[L(l.$slots,"positive-text",{},()=>[ee(De(y.value),1)],!0)]),_:3},8,["type","loading","disabled"])):X("",!0)],!0)]),default:j(()=>[L(l.$slots,"default",{},()=>[i.value?(D(),Ne(Me,{key:0},[ee(" An error occurred while processing the request. Please try again later. ")],64)):X("",!0)],!0)]),_:2},[a.value||l.$slots.title?{name:"title",fn:j(()=>[L(l.$slots,"icon",{},()=>[a.value?(D(),K(Un,{key:0,"is-inline":!0,name:a.value,class:"c-dialog__icon"},null,8,["name"])):X("",!0)],!0),L(l.$slots,"title",{},()=>[i.value?(D(),Ne(Me,{key:0},[ee(" Error ")],64)):X("",!0)],!0)]),key:"0"}:void 0]),1040,["is-shown","is-loading","class"]))}}),Ko=cn(fn,[["__scopeId","data-v-3eda2815"]]);fn.__docgenInfo={exportName:"default",displayName:"CDialog",description:"",tags:{},props:[{name:"type",description:"The type of the dialog, e.g., 'confirm', 'alert', etc.",required:!0,type:{name:"DialogType"},defaultValue:{func:!1,value:"'confirm'"}},{name:"isShown",description:"Whether the dialog is currently shown.",required:!0,type:{name:"boolean"}},{name:"hasNegative",description:"Whether the dialog includes a negative action button.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"hasPositive",description:"Whether the dialog includes a positive action button.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"isLoading",description:"Whether the dialog is in a loading state when opening.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isProcessing",description:"Whether the dialog is in a general processing state.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isPositiveProcessing",description:"Whether the positive action button is in a processing state.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isNegativeProcessing",description:"Whether the negative action button is in a processing state.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isPositiveDisabled",description:"Whether the positive action button is disabled.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isNegativeDisabled",description:"Whether the negative action button is disabled.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isNegativeDisabledWhenPositiveProcessing",description:"Whether the negative action button is disabled while the positive action button is processing.",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"iconName",description:"The name of the icon to display in the dialog.",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"positiveHandler",description:`The handler function executed when the positive action button is clicked.
Can be synchronous or return a promise.`,required:!1,type:{name:"TSFunctionType"},defaultValue:{func:!1,value:"undefined"}},{name:"negativeHandler",description:`The handler function executed when the negative action button is clicked.
Can be synchronous or return a promise.`,required:!1,type:{name:"TSFunctionType"},defaultValue:{func:!1,value:"undefined"}}],events:[{name:"update:isShown",type:{names:["boolean"]},description:"Emitted when the visibility of the dialog is updated."},{name:"close",description:"Emitted when the dialog is closed."},{name:"positiveClick",description:"Emitted when the positive action button is clicked."},{name:"negativeClick",description:"Emitted when the negative action button is clicked."},{name:"afterLeave",description:"Emitted after the dialog's leave transition is completed."}],slots:[{name:"icon"},{name:"title"},{name:"default"},{name:"actions"},{name:"negative-text"},{name:"positive-text"}],sourceFiles:["/home/runner/work/npm-pew-pew/npm-pew-pew/src/components/CDialog/CDialog.vue"]};export{Ko as C};
